(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b91e299"],{1610:function(t,e,i){},a481:function(t,e,i){"use strict";var n=i("cb7c"),r=i("4bf8"),s=i("9def"),a=i("4588"),o=i("0390"),c=i("5f1b"),l=Math.max,u=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g,d=function(t){return void 0===t?t:String(t)};i("214f")("replace",2,function(t,e,i,p){return[function(n,r){var s=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,s,r):i.call(String(s),n,r)},function(t,e){var r=p(i,t,this,e);if(r.done)return r.value;var h=n(t),f=String(this),v="function"===typeof e;v||(e=String(e));var m=h.global;if(m){var b=h.unicode;h.lastIndex=0}var x=[];while(1){var w=c(h,f);if(null===w)break;if(x.push(w),!m)break;var y=String(w[0]);""===y&&(h.lastIndex=o(f,s(h.lastIndex),b))}for(var _="",k=0,C=0;C<x.length;C++){w=x[C];for(var $=String(w[0]),S=l(u(a(w.index),f.length),0),F=[],O=1;O<w.length;O++)F.push(d(w[O]));var z=w.groups;if(v){var T=[$].concat(F,S,f);void 0!==z&&T.push(z);var A=String(e.apply(void 0,T))}else A=g($,f,S,F,z,e);S>=k&&(_+=f.slice(k,S)+A,k=S+$.length)}return _+f.slice(k)}];function g(t,e,n,s,a,o){var c=n+t.length,l=s.length,u=v;return void 0!==a&&(a=r(a),u=f),i.call(o,u,function(i,r){var o;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(c);case"<":o=a[r.slice(1,-1)];break;default:var u=+r;if(0===u)return i;if(u>l){var f=h(u/10);return 0===f?i:f<=l?void 0===s[f-1]?r.charAt(1):s[f-1]+r.charAt(1):i}o=s[u-1]}return void 0===o?"":o})}})},e313:function(t,e,i){"use strict";var n=i("1610"),r=i.n(n);r.a},f79c:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{staticClass:"hader",attrs:{title:"登录","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.back()}}},[1!=t.isiOS&&1!=t.isWeixin?i("a",{attrs:{slot:"right",href:"https://guanfan.oss-cn-hangzhou.aliyuncs.com/apk/guanfan_v1.0.6.apk"},slot:"right"},[i("van-button",{attrs:{type:"primary",size:"small"}},[t._v("安装APP")])],1):t._e(),1==t.isiOS&&1!=t.isWeixin?i("a",{attrs:{slot:"right",href:"https://apps.apple.com/cn/app/id1487127641"},slot:"right"},[i("van-button",{attrs:{type:"primary",size:"small"}},[t._v("安装APP")])],1):t._e(),1==t.isWeixin?i("a",{attrs:{slot:"right",href:"https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzU0NTg5ODQzNA==&scene=124#wechat_redirect"},slot:"right"},[i("van-button",{attrs:{type:"primary",size:"small"}},[t._v("关注")])],1):t._e()]),t._m(0),i("van-cell-group",{staticClass:"padding-lr",attrs:{model:t.ruleForm}},[i("van-field",{attrs:{clearable:"","left-icon":"phone-o",placeholder:"请输入手机号"},on:{"click-right-icon":function(e){return t.$toast("question")}},model:{value:t.ruleForm.phone,callback:function(e){t.$set(t.ruleForm,"phone",e)},expression:"ruleForm.phone"}}),i("van-field",{attrs:{center:"",clearable:"","left-icon":"chat-o",placeholder:"请输入验证码"},model:{value:t.ruleForm.verify,callback:function(e){t.$set(t.ruleForm,"verify",e)},expression:"ruleForm.verify"}},[i("van-button",{staticClass:"verBtn",attrs:{slot:"button",size:"small",type:"primary"},on:{click:function(e){return t.getCode()}},slot:"button"},[t._v(t._s(t.btnText)+"\n                ")])],1)],1),i("div",{staticClass:"padding-lr"},[i("div",{staticClass:"clearfix tipText text-14 mt15 mb15"},[i("div",{staticClass:"left",on:{click:t.topsw}},[t._v("密码登录")])]),i("van-button",{staticClass:"bg-yellow",attrs:{type:"info",size:"large"},on:{click:t.bindLogin}},[t._v("登录")]),i("van-button",{staticClass:"mt15 bg-yellow",attrs:{type:"info",size:"large",plain:""},on:{click:t.toreg}},[t._v("注册")])],1)],1)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center title"},[i("div",{staticClass:"text-black text-bold text-25"},[t._v("欢迎饭友回家")]),i("div",{staticClass:"grayColor text-16 mt25"},[t._v("闲来无事，就想做菜给你吃")])])}],s=(i("a481"),i("4917"),i("7ded")),a=i("d399"),o={name:"codeLogin",data:function(){return{ruleForm:{phone:"",verify:"",type:2},btnText:"获取验证码",countdown:60,isWeixin:"",isiOS:""}},computed:{isSubmit:function(){return!!this.phone&&!!this.verify}},created:function(){this.getwx(),this.appSource()},methods:{getwx:function(){var t=window.navigator.userAgent.toLowerCase();"micromessenger"==t.match(/MicroMessenger/i)?this.isWeixin=!0:this.isWeixin=!1},appSource:function(){var t=navigator.userAgent;navigator.appVersion;t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?this.isiOS=!0:this.isiOS=!1},getCode:function(){""!=this.ruleForm.phone?this.sendsms():Object(a["a"])("请输入手机号")},sendsms:function(){var t=this;Object(s["e"])(this.ruleForm.phone,1).then(function(e){var i=e.data;i.success?t.setTime():Object(a["a"])(e.message)}).catch(function(t){console.log(t)})},setTime:function(){if(0==this.countdown)return this.btnText="获取验证码",void(this.countdown=60);setTimeout(this.setTime,1e3),this.btnText="("+this.countdown+"s)后重新发送",this.countdown--},bindLogin:function(){var t=this;this.ruleForm.phone.length<11?Object(a["a"])("请输入手机号"):this.ruleForm.verify.length<6?Object(a["a"])("请输入验证码"):this.$store.dispatch("LoginByCode",this.ruleForm).then(function(){t.getUser()}).catch(function(){})},getUser:function(){var t=this;this.$store.dispatch("GetUserInfo").then(function(e){t.$router.go(-1)}).catch(function(t){})},topsw:function(){this.$router.replace({path:this.redirect||"/pswLogin"})},toreg:function(){this.$router.replace({path:this.redirect||"/reg"})},back:function(){this.$router.go(-1)}}},c=o,l=(i("e313"),i("2877")),u=Object(l["a"])(c,n,r,!1,null,"c259f3a0",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-0b91e299.9d97fc05.js.map