{"version":3,"sources":["webpack:///./src/view/themelist.vue?8aa2","webpack:///src/view/themelist.vue","webpack:///./src/view/themelist.vue?dce1","webpack:///./src/view/themelist.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","left-text","left-arrow","on","click-left","$event","back","isiOS","isWeixin","slot","href","type","size","_v","_e","onLoadMore","enableLoadMore","_l","item","index","key","click","bookDetail","topicid","style","backgroundImage","osshost","topicimg","listpic","_s","faceimg","src","imgurl","isThree","userface","nickname","collections","staticRenderFns","themelistvue_type_script_lang_js_","name","components","LoadMore","Totop","totop","data","num","page","themeList","detailpic","created","getTheme","getwx","appSource","methods","ua","window","navigator","userAgent","toLowerCase","match","u","appVersion","done","_this","setTimeout","getThemeList","_this2","lib_default","a","stringify","topictype","axios_default","method","url","headers","Content-Type","then","response","result","length","concat","i","RegExp","test","id","$router","push","path","query","go","view_themelistvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0b37a0.1a0929ea.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{staticClass:\"hader\",attrs:{\"title\":\"今日主题\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.back()}}},[(_vm.isiOS != true && _vm.isWeixin != true)?_c('a',{attrs:{\"slot\":\"right\",\"href\":\"https://m.guanfan.top/#/app\"},slot:\"right\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"安装APP\")])],1):_vm._e(),(_vm.isiOS == true && _vm.isWeixin != true)?_c('a',{attrs:{\"slot\":\"right\",\"href\":\"https://apps.apple.com/cn/app/id1487127641\"},slot:\"right\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"安装APP\")])],1):_vm._e(),(_vm.isWeixin == true)?_c('a',{attrs:{\"slot\":\"right\",\"href\":\"https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzU0NTg5ODQzNA==&scene=124#wechat_redirect\"},slot:\"right\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"关注\")])],1):_vm._e()]),_c('LoadMore',{attrs:{\"onLoadMore\":_vm.onLoadMore,\"enableLoadMore\":_vm.enableLoadMore}},[_c('div',{staticClass:\"cont mt10 clearfix\"},[_c('div',{staticClass:\"food-list1\"},[_c('ul',_vm._l((_vm.themeList),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.bookDetail(item.topicid)}}},[_c('div',{staticClass:\"foodlist-img\",style:({ backgroundImage: 'url(' + _vm.osshost + item.topicimg + _vm.listpic + ')' })}),_c('div',{staticClass:\"food-list1-tit text-cut\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"user\"},[(!item.faceimg)?_c('img',{attrs:{\"src\":_vm.imgurl}}):_vm._e(),(item.faceimg&&item.isThree==false)?_c('img',{attrs:{\"src\":_vm.osshost + item.faceimg +_vm.userface}}):_vm._e(),(item.faceimg&&item.isThree==true)?_c('img',{attrs:{\"src\":item.faceimg}}):_vm._e(),_c('span',[_vm._v(_vm._s(item.nickname))]),_c('i',{staticClass:\"icon-like2 van-icon van-icon-like\"},[_vm._v(_vm._s(item.collections))])])])}),0)])])]),_c('Totop')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<van-nav-bar class=\"hader\" title=\"今日主题\" left-text=\"返回\" left-arrow @click-left=\"back()\">\r\n\t\t\t<a href=\"https://m.guanfan.top/#/app\" slot=\"right\" v-if=\"isiOS != true && isWeixin != true\"><van-button type=\"primary\" size=\"small\">安装APP</van-button></a>\r\n\t\t\t<a href=\"https://apps.apple.com/cn/app/id1487127641\" slot=\"right\" v-if=\"isiOS == true && isWeixin != true\">\r\n\t\t\t\t<van-button type=\"primary\" size=\"small\">安装APP</van-button>\r\n\t\t\t</a>\r\n\t\t\t<a href=\"https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzU0NTg5ODQzNA==&scene=124#wechat_redirect\" slot=\"right\" v-if=\"isWeixin == true\">\r\n\t\t\t\t<van-button type=\"primary\" size=\"small\">关注</van-button>\r\n\t\t\t</a>\r\n\t\t</van-nav-bar>\r\n\r\n\t\t<LoadMore :onLoadMore=\"onLoadMore\" :enableLoadMore=\"enableLoadMore\">\r\n\t\t\t<div class=\"cont mt10 clearfix\">\r\n\t\t\t\t<div class=\"food-list1\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li v-for=\"(item, index) in themeList\" :key=\"index\" @click=\"bookDetail(item.topicid)\">\r\n\t\t\t\t\t\t\t<div class=\"foodlist-img\" :style=\"{ backgroundImage: 'url(' + osshost + item.topicimg + listpic + ')' }\"></div>\r\n\t\t\t\t\t\t\t<div class=\"food-list1-tit text-cut\">{{ item.title }}</div>\r\n\t\t\t\t\t\t\t<div class=\"user\">\r\n\t\t\t\t\t\t\t\t<img :src=\"imgurl\" v-if=\"!item.faceimg\">\r\n\t\t\t\t\t\t\t\t<img :src=\"osshost + item.faceimg +userface\" v-if=\"item.faceimg&&item.isThree==false\">\r\n\t\t\t\t\t\t\t\t<img :src=\"item.faceimg\" v-if=\"item.faceimg&&item.isThree==true\">\r\n\t\t\t\t\t\t\t\t<span>{{ item.nickname }}</span>\r\n\t\t\t\t\t\t\t\t<i class=\"icon-like2 van-icon van-icon-like\">{{ item.collections }}</i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<!-- </mu-load-more> -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</LoadMore>\r\n\t\t<Totop></Totop>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport qs from 'qs';\r\n\timport axios from 'axios';\r\nimport LoadMore from '../components/LoadMore.vue';\r\nimport Totop from '../components/totop.vue';\r\nexport default {\r\n\tname: 'cookbookinfo',\r\n\tcomponents: {\r\n\t\tLoadMore,\r\n\t\tTotop\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnum: 13,\r\n\t\t\tenableLoadMore: true,\r\n\t\t\tpage: 1,\r\n\t\t\tthemeList: [],\r\n\t\t\tosshost: 'http://guanfan.oss-cn-hangzhou.aliyuncs.com/',\r\n\t\t\tlistpic: '?x-oss-process=style/list-img',\r\n\t\t\tuserface: '?x-oss-process=style/user-img',\r\n\t\t\tdetailpic: '?x-oss-process=style/detail-img',\r\n\t\t\tisWeixin: '',\r\n\t\t\tisiOS: '',\r\n\t\t\timgurl: '../assets/img/userIcon.png',\r\n\t\t\tisThree: false\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getTheme();\r\n\t\tthis.getwx();\r\n\t\tthis.appSource();\r\n\t},\r\n\tmethods: {\r\n\t\tgetwx() {\r\n\t\t\tvar ua = window.navigator.userAgent.toLowerCase();\r\n\t\t\tif (ua.match(/MicroMessenger/i) == 'micromessenger') {\r\n\t\t\t\tthis.isWeixin = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.isWeixin = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tappSource() {\r\n\t\t\tconst u = navigator.userAgent,\r\n\t\t\t\tapp = navigator.appVersion;\r\n\t\t\tif (!!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/)) {\r\n\t\t\t\tthis.isiOS = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.isiOS = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoadMore(done) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (!this.enableLoadMore) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.page = this.page + 1;\r\n\t\t\t\tthis.getThemeList();\r\n\t\t\t\tdone();\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\tgetTheme() {\r\n\t\t\t// getThemeList(this.page, 1)\r\n\t\t\t// \t.then(res => {\r\n\t\t\t// \t\tif (res.data.result.length < 10) {\r\n\t\t\t// \t\t\tthis.enableLoadMore = false;\r\n\t\t\t// \t\t}\r\n\t\t\t// \t\tthis.themeList = this.themeList.concat(res.data.result);\r\n\t\t\t// \t})\r\n\t\t\t// \t.catch(error => {\r\n\t\t\t// \t\tconsole.log(error);\r\n\t\t\t// \t});\r\n\t\t\t\tlet data = qs.stringify({\r\n\t\t\t\t\ttopictype:1,\r\n\t\t\t\t\tpage:this.page\r\n\t\t\t\t});\r\n\t\t\t\taxios({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: '/subject/topiclist',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata\r\n\t\t\t\t}).then(response => {\r\n\t\t\t\t\tif (response.data.result.length < 10) {\r\n\t\t\t\t\t\tthis.enableLoadMore = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.themeList = this.themeList.concat(response.data.result);\r\n\t\t\t\t\tfor(var i=0;i<this.themeList.length;i++){\r\n\t\t\t\t\t\tthis.themeList[i].isThree = new RegExp('http').test(this.themeList[i].faceimg);\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tbookDetail(id) {\r\n\t\t\tthis.$router.push({ path: '/themeinfo', query: { id: id } });\r\n\t\t},\r\n\t\tback() {\r\n\t\t\tthis.$router.go(-1); //返回上一层\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./themelist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./themelist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./themelist.vue?vue&type=template&id=c81c870c&\"\nimport script from \"./themelist.vue?vue&type=script&lang=js&\"\nexport * from \"./themelist.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}