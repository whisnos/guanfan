(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b518d03"],{2257:function(t,i,e){},"28a5":function(t,i,e){"use strict";var s=e("aae3"),n=e("cb7c"),a=e("ebd6"),o=e("0390"),c=e("9def"),r=e("5f1b"),l=e("520a"),d=e("79e5"),u=Math.min,p=[].push,f="split",h="length",g="lastIndex",m=4294967295,v=!d(function(){RegExp(m,"y")});e("214f")("split",2,function(t,i,e,d){var b;return b="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[h]||2!="ab"[f](/(?:ab)*/)[h]||4!="."[f](/(.?)(.?)/)[h]||"."[f](/()()/)[h]>1||""[f](/.?/)[h]?function(t,i){var n=String(this);if(void 0===t&&0===i)return[];if(!s(t))return e.call(n,t,i);var a,o,c,r=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,f=void 0===i?m:i>>>0,v=new RegExp(t.source,d+"g");while(a=l.call(v,n)){if(o=v[g],o>u&&(r.push(n.slice(u,a.index)),a[h]>1&&a.index<n[h]&&p.apply(r,a.slice(1)),c=a[0][h],u=o,r[h]>=f))break;v[g]===a.index&&v[g]++}return u===n[h]?!c&&v.test("")||r.push(""):r.push(n.slice(u)),r[h]>f?r.slice(0,f):r}:"0"[f](void 0,0)[h]?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,s){var n=t(this),a=void 0==e?void 0:e[i];return void 0!==a?a.call(e,n,s):b.call(String(n),e,s)},function(t,i){var s=d(b,t,this,i,b!==e);if(s.done)return s.value;var l=n(t),p=String(this),f=a(l,RegExp),h=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),w=new f(v?l:"^(?:"+l.source+")",g),k=void 0===i?m:i>>>0;if(0===k)return[];if(0===p.length)return null===r(w,p)?[p]:[];var y=0,A=0,C=[];while(A<p.length){w.lastIndex=v?A:0;var L,x=r(w,v?p:p.slice(A));if(null===x||(L=u(c(w.lastIndex+(v?0:A)),p.length))===y)A=o(p,A,h);else{if(C.push(p.slice(y,A)),C.length===k)return C;for(var I=1;I<=x.length-1;I++)if(C.push(x[I]),C.length===k)return C;A=y=L}}return C.push(p.slice(y)),C}]})},"4d5c":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("van-nav-bar",{staticClass:"hader",attrs:{title:t.activeinfo.name,"left-text":"主页","left-arrow":""},on:{"click-left":function(i){return t.back()}}},[1!=t.isiOS&&1!=t.isWeixin?s("a",{attrs:{slot:"right",href:"https://m.guanfan.top/#/app"},slot:"right"},[s("van-button",{attrs:{type:"primary",size:"small"}},[t._v("安装APP")])],1):t._e(),1==t.isiOS&&1!=t.isWeixin?s("a",{attrs:{slot:"right",href:"https://apps.apple.com/cn/app/id1487127641"},slot:"right"},[s("van-button",{attrs:{type:"primary",size:"small"}},[t._v("安装APP")])],1):t._e(),1==t.isWeixin?s("a",{attrs:{slot:"right",href:"https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzU0NTg5ODQzNA==&scene=124#wechat_redirect"},slot:"right"},[s("van-button",{attrs:{type:"primary",size:"small"}},[t._v("关注")])],1):t._e()]),s("div",{staticClass:"ac-info",staticStyle:{"margin-top":"3.5rem"}},t._l(t.activeinfo.content,function(i,e){return s("img",{key:e,style:i.imgstyle,attrs:{src:t.osshost+i.imgurl},on:{click:function(e){return t.navToDetail(i.navtype,i.navid)}}})}),0),s("div",{staticClass:"cont mt10",staticStyle:{"margin-top":"0.5rem"}},[2==t.activeinfo.status?s("div",[1!=t.isiOS&&1!=t.isWeixin?s("a",{attrs:{slot:"right",href:"https://m.guanfan.top/#/app"},slot:"right"},[s("van-button",{staticClass:"wb100 mt10 mb10",attrs:{type:"primary"}},[t._v("去APP参与活动")])],1):t._e(),1==t.isiOS&&1!=t.isWeixin?s("a",{attrs:{slot:"right",href:"https://apps.apple.com/cn/app/id1487127641"},slot:"right"},[s("van-button",{staticClass:"wb100 mt10 mb10",attrs:{type:"primary"}},[t._v("去APP参与活动")])],1):t._e(),1==t.isWeixin?s("div",{staticClass:"gzh-guanzhu"},[s("img",{attrs:{src:e("71f3")}}),s("span",[t._v("长按识别二维码，关注管饭美食参与活动")])]):t._e()]):s("div",[1!=t.isiOS&&1!=t.isWeixin?s("a",{attrs:{slot:"right",href:"https://m.guanfan.top/#/app"},slot:"right"},[s("van-button",{staticClass:"wb100 mt10 mb10",attrs:{type:"primary"}},[t._v("去APP参与更多活动")])],1):t._e(),1==t.isiOS&&1!=t.isWeixin?s("a",{attrs:{slot:"right",href:"https://apps.apple.com/cn/app/id1487127641"},slot:"right"},[s("van-button",{staticClass:"wb100 mt10 mb10",attrs:{type:"primary"}},[t._v("去APP参与更多活动")])],1):t._e(),1==t.isWeixin?s("div",{staticClass:"gzh-guanzhu"},[s("img",{attrs:{src:e("71f3")}}),s("span",[t._v("关注管饭美食参与更多活动")])]):t._e()]),0!=t.activeinfo.sponsorid?s("div",[s("h3",{staticClass:"van-doc-demo-block__title mt15 mb15"},[t._v("赞助商")]),s("ul",{staticClass:"dr_list"},[s("li",{staticClass:"clearfix mb15"},[s("div",{staticClass:"left headicon bg-img br50",style:{backgroundImage:"url("+t.osshost+t.userinfo.imgurl+t.userface+")"}}),s("div",{staticClass:"info"},[s("h2",{staticClass:"text-bold text-df text-16"},[t._v(t._s(t.userinfo.nickname))])]),s("div",{staticClass:"info2"},[s("h3",{staticClass:"text-bold text-df text-14"},[t._v(t._s(t.userinfo.personalprofile))])])])])]):t._e(),s("h3",{staticClass:"van-doc-demo-block__title mt15 mb15"},[t._v("饭友参与作品")]),s("LoadMore",{attrs:{onLoadMore:t.onLoadMore,enableLoadMore:t.enableLoadMore}},[1==t.activeinfo.type?s("div",{staticClass:"food-list1 food-list2"},[s("ul",t._l(t.foodList,function(i,n){return s("li",{key:n},[i.isvideo?s("img",{staticClass:"sp-btn",attrs:{src:e("54db")}}):t._e(),i.isvideo?s("div",{staticClass:"foodlist-img",style:{backgroundImage:"url("+i.dtimg+")"},on:{click:function(e){return t.navToDetail(1,i.id)}}}):s("div",{staticClass:"foodlist-img",style:{backgroundImage:"url("+t.osshost+i.dtimg+t.listpic+")"},on:{click:function(e){return t.navToDetail(1,i.id)}}}),s("div",{staticClass:"food-list1-tit text-cut"},[t._v(t._s(i.description))]),s("div",{staticClass:"user"},[i.faceimg?t._e():s("img",{attrs:{src:t.imgurl}}),i.faceimg&&0==i.isThree?s("img",{attrs:{src:t.osshost+i.faceimg+t.userface}}):t._e(),i.faceimg&&1==i.isThree?s("img",{attrs:{src:i.faceimg}}):t._e(),s("span",[t._v(t._s(i.nickname))])]),s("i",{staticClass:"icon-like van-icon van-icon-good-job",class:1==i.isliked?"text-red":"",on:{click:function(e){return t.changeLike(i.id,n)}}},[t._v(t._s(i.likecount))])])}),0)]):t._e(),2==t.activeinfo.type?s("div",{staticClass:"food-list1 food-list2"},[s("ul",t._l(t.menuList,function(i,e){return s("li",{key:e},[s("div",{staticClass:"foodlist-img",style:{backgroundImage:"url("+t.osshost+i.cpimg+t.listpic+")"},on:{click:function(e){return t.navToDetail(2,i.cpid)}}}),s("div",{staticClass:"food-list1-tit text-cut"},[t._v(t._s(i.cptitle))]),s("div",{staticClass:"user"},[i.faceimg?t._e():s("img",{attrs:{src:t.imgurl}}),i.faceimg&&0==i.isThree?s("img",{attrs:{src:t.osshost+i.faceimg+t.userface}}):t._e(),i.faceimg&&1==i.isThree?s("img",{attrs:{src:i.faceimg}}):t._e(),s("span",[t._v(t._s(i.nickname))])]),s("i",{staticClass:"icon-like van-icon van-icon-like",class:1==i.iscollectioned?"text-red":"",on:{click:function(s){return t.changeCollection(i.cpid,e)}}},[t._v(t._s(i.collections))])])}),0)]):t._e()])],1)],1)},n=[],a=(e("3b2b"),e("28a5"),e("4917"),e("4328")),o=e.n(a),c=e("bc3a"),r=e.n(c),l=e("eafa"),d={name:"activeinfo",components:{LoadMore:l["a"]},data:function(){return{num:13,sortList:"",activeinfo:"",userinfo:"",osshost:"http://guanfan.oss-cn-hangzhou.aliyuncs.com/",listpic:"?x-oss-process=style/list-img",userface:"?x-oss-process=style/user-img",detailpic:"?x-oss-process=style/detail-img",isWeixin:"",isiOS:"",uid:"",enableLoadMore:!0,page:1,type:"",foodList:[],menuList:[],token:"",imgurl:"../assets/img/userIcon.png",isThree:!1}},created:function(){this.aid=this.$route.query.id,this.token=this.$store.state.user.token||"",this.getDataInfo(this.aid),this.getwx(),this.appSource()},methods:{getwx:function(){var t=window.navigator.userAgent.toLowerCase();"micromessenger"==t.match(/MicroMessenger/i)?this.isWeixin=!0:this.isWeixin=!1},appSource:function(){var t=navigator.userAgent;navigator.appVersion;t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?this.isiOS=!0:this.isiOS=!1},onLoadMore:function(t){var i=this;setTimeout(function(){i.enableLoadMore&&(i.page=i.page+1,1==i.activeinfo.type&&i.getDtList(),2==i.activeinfo.type&&i.getMenUList(),t())},500)},getDataInfo:function(t){var i=this,e=o.a.stringify({campaignid:t});r()({method:"post",url:"/campaign/detail",headers:{"Content-Type":"application/x-www-form-urlencoded",token:this.token},data:e}).then(function(t){t.data.success&&(i.activeinfo=t.data.result,i.uid=i.activeinfo.sponsorid,i.getUserInfo(i.uid),1==i.activeinfo.type?i.getDtList():i.getMenUList())})},getUserInfo:function(t){var i=this,e=o.a.stringify({sponsorid:t});r()({method:"post",url:"/campaign/sponsor",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e}).then(function(t){t.data.success&&(i.userinfo=t.data.result)})},getDtList:function(){var t=this,i=o.a.stringify({page:this.page,campaignid:this.aid,ctype:1});r()({method:"post",url:"/campaign/dtlist",headers:{"Content-Type":"application/x-www-form-urlencoded",token:this.token},data:i}).then(function(i){if(i.data.success){i.data.result.length<10&&(t.enableLoadMore=!1),t.foodList=t.foodList.concat(i.data.result);for(var e=0;e<t.foodList.length;e++)t.foodList[e].dtimg=t.foodList[e].dtimg.split("|"),t.foodList[e].dtimg=t.foodList[e].dtimg[0],t.foodlist[e].isThree=new RegExp("http").test(t.foodlist[e].faceimg)}})},getMenUList:function(){var t=this,i=o.a.stringify({page:this.page,campaignid:this.aid,ctype:1});r()({method:"post",url:"/campaign/cplist",headers:{"Content-Type":"application/x-www-form-urlencoded",token:this.token},data:i}).then(function(i){if(i.data.success){i.data.result.length<10&&(t.enableLoadMore=!1),t.menuList=t.menuList.concat(i.data.result);for(var e=0;e<t.menuList.length;e++)t.menuList[e].isThree=new RegExp("http").test(t.menuList[e].faceimg)}})},navToDetail:function(t,i){if(1==t)this.$router.push({path:"/dtinfo",query:{id:i}});else if(2==t)this.$router.push({path:"/cookbookinfo",query:{id:i}});else if(3==t)this.$router.push({path:"/themeinfo",query:{id:i}});else if(4==t)return},back:function(){this.$router.push({path:"/"})},changeLike:function(t,i){var e=this;if(""==this.token)this.$router.push({path:"/pswLogin"});else if(1==this.foodList[i].isliked){var s=o.a.stringify({itemid:t,itemtype:1});r()({method:"post",url:"/action/unlike",headers:{"Content-Type":"application/x-www-form-urlencoded",token:this.token},data:s}).then(function(t){t.data.success&&(e.foodList[i].isliked=0,e.foodList[i].likecount--)})}else{var n=o.a.stringify({itemid:t,itemtype:1});r()({method:"post",url:"/action/like",headers:{"Content-Type":"application/x-www-form-urlencoded",token:this.token},data:n}).then(function(t){t.data.success&&(e.foodList[i].isliked=1,e.foodList[i].likecount++)})}},changeCollection:function(t,i){var e=this;if(""==this.token)this.$router.push({path:"/pswLogin"});else if(1==this.menuList[i].iscollectioned){var s=o.a.stringify({itemid:t,itemtype:2});r()({method:"post",url:"/action/uncollection",headers:{"Content-Type":"application/x-www-form-urlencoded",token:this.token},data:s}).then(function(t){t.data.success&&(e.menuList[i].iscollectioned=0,e.menuList[i].collections--)})}else{var n=o.a.stringify({itemid:t,itemtype:2});r()({method:"post",url:"/action/collection",headers:{"Content-Type":"application/x-www-form-urlencoded",token:this.token},data:n}).then(function(t){t.data.success&&(e.menuList[i].iscollectioned=1,e.menuList[i].collections++)})}}}},u=d,p=(e("d68c"),e("2877")),f=Object(p["a"])(u,s,n,!1,null,null,null);i["default"]=f.exports},"54db":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY0NDAyREY1NTkwNjExRUFCMTU5QjY2OENCRUFCMUJDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY0NDAyREY2NTkwNjExRUFCMTU5QjY2OENCRUFCMUJDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjQ0MDJERjM1OTA2MTFFQUIxNTlCNjY4Q0JFQUIxQkMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjQ0MDJERjQ1OTA2MTFFQUIxNTlCNjY4Q0JFQUIxQkMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6mIDMkAAAErElEQVR42uxbW0xURxj+F3ZR08JiwVYwFkyVFKQUrYlcpV5wAUtMVR5MiOmTaWrii2l6eTdpE2u8tNqYYEpS6jUqxtZSajUkTaOoqSgiIBqL6XoBwWC4Le7pN7iYlQrsmZlzzpA9X/JlHvbMzP9/Z+afmf/MOjRNo3BGBIU5bAFsAWwBbAHCGs7xfnQ4HNI6wnKbhCINTARngQkBullXoB/sAL1gA1iN/jsk9j/2D2NRQqeLwQNgh6YfT8E6cDOYKEOAl/ooWwDUiwDXgOc1efCDJ8AcpQVAHQ/YohmLanC2UgLg2dfAI5p56AM3KSEAnlsA3tWswX7QZZkAeKYMHNCsxW+hiDCWjxECQeUzFIfBKIuX8kLwJOxxSo2O440A/Paxph6OshXI8BGASsUo9ii4qVsLbtNbyTHemx69E8Sz8SiawHiFd7cfwe7KUHeCegU4jaJI8e19P5gE2x+EIkCEjqFfNgmcZ5gKfiV1CgQi7J3AQWYygB2sMmH/VVkjYIOI8y0326jq4BG6ePlvMikHy/zaKnMENKNI4bHE5/PR1q+3D5cMCTPfoA9Xf0CzEhPMECJjZBRwjwBUzOJ1nqGrq/u58wzee/dp774KOlZ9inp7ew1fEWRkhDbItoq9jEuYDt/s3EN/na8nv9+weVEuQ4Biw9ar/n469UsN7frue7rzT7sRXbyOEZzOLQAqz0SRbPQ4fdjRSfsqKunQ0ePU0/NEdvPvc+cEgSVmrl0NVxvpRnMrLS3Io9zsLIqMlJKzXSgyBVLNXsAHBweppvYP2rF7L7Xdui2jybdFBEghi/Coq4v2V1bRjwcOU3f3Y5Gm5opMgRlWb+mabrRQKzZSSwuWUEF+Dk+qPk5kBMSqsK8dGnpKtWfO0rm6P7l2hQjmU3gF8Ku0wfd67/FW9fEK0KOK83OSk2hVyUqeqgOYNn7eGNBttePTY2OpyLOc0tO4F6THIkHwplWOR0W5EPRyKS8nm5zOSJGmWkUEaDbbcRbkMzPeIU/hcoqOflVGky0iAlwy03l2RF5dWiL7qHyRWwB2lsYS0jnRWiqKmJho8qxYRu/izUv8Ij+COpERwHAWXGeE406nk/Jzs4bnusvlMqKL+3iJ10QFqDJCgPT5qVRSVEjumBgjB9dPE76EEBr5mZ7d3OD6FuB2u4e3ryMpKZYSK11VRElvzjYjrPwwYdANMSe4hTi+uozg2vUmamhopJR5b9F7CxcYMc9fhjOwf0VQbkNIAJZrb6PJkxZnWAn7aycSIKSMAxpiX1u+nETOnwt2XngKBBRkYl1h8Utx5wdYIge2v5BNEf40FjhQrAf7FBfg09HOi+QDRovA1tRy1Y7JQfgdNu7WlSzQv1d3HEOxUUHnG8Ey3dkSvgOLowLFFwo5fwtcBrv0H98FL0l9rsDVmAtgHK+fMq7JfQL6LLwmFyXyomVdlMwC28PyomRQB6+A28Ahg53/VbmrsqM6SgZ3gb0GXJZexBslTRMgqMNocD14XECMJ+C34FzRZWIsH3XdEhPofBoKD5hN///DBAti7E8S/wZKbyAZWw9ehg2DkmzQfxYIB9h/mrIFsAWwBbAFCGf8J8AAGkf3OW+tzAsAAAAASUVORK5CYII="},"71f3":function(t,i,e){t.exports=e.p+"img/qr.2398bca3.jpg"},d68c:function(t,i,e){"use strict";var s=e("2257"),n=e.n(s);n.a}}]);
//# sourceMappingURL=chunk-5b518d03.37de87df.js.map