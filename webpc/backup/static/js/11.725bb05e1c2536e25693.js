webpackJsonp([11],{IPvx:function(e,t){},"np++":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("JJSs"),s=a("mzkE"),o=a("vMJZ"),r=a("3/Li"),n=a("zL8q"),i=a("GKmE"),c=a("/Z0X"),u={components:{headerNav:l.a,FooterBottom:s.a},data:function(){return{form:{img:null,nickname:"",birthday:"",sex:"",taste:"",tag:"",address:"",perinfo:""},personinfo:"",name:"",sex:"",listpic:"?x-oss-process=style/list-img",userface:"?x-oss-process=style/user-img",detailpic:"?x-oss-process=style/detail-img",osshost:"https://guanfan.oss-cn-hangzhou.aliyuncs.com/"}},created:function(){this.getUser()},methods:{getUser:function(){var e=this;this.$store.dispatch("GetUserInfo").then(function(t){e.form=t.data.result,e.name=t.data.result.name,e.personinfo=e.form.personinfo,1==t.data.result.sex?e.sex="男":e.sex="女"}).catch(function(e){})},pushuserinfo:function(){this.form.perinfo=this.personinfo,this.form.nickname=this.name,this.form.sex=this.sex,console.log(this.sex),Object(o.a)(this.form).then(function(e){e.data.success?Object(n.Message)({message:"修改成功",type:"success",duration:5e3}):Object(n.Message)({message:e.message,type:"error",duration:5e3})}).catch(function(e){console.log(e)})},handleHttpRequest:function(e){var t=this,a=e.file.name;Object(r.i)(3).then(function(l){var s=l.data.result,o=void 0;o=s.spaceid+"/"+i.a.imgMd5(a,o,"userimg"),new c({region:"oss-cn-hangzhou",accessKeyId:s.AccessKeyId,accessKeySecret:s.AccessKeySecret,stsToken:s.SecurityToken,bucket:"guanfan"}).put(o,e.file).then(function(e){t.form.img=e.name,console.log("头像上传成功")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"content",attrs:{id:"header"}},[a("header-nav")],1),e._v(" "),a("div",{staticClass:"padding-top-100"},[a("div",{staticClass:"content formarea"},[a("div",{staticClass:"box2"},[a("el-form",[a("el-form-item",[a("el-upload",{staticClass:"avatar-uploader "},[null!=e.form.img?a("img",{staticClass:"avatar",attrs:{src:e.osshost+e.form.img+e.userface}}):e._e()]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),e._v(" "),a("a",[a("el-upload",{staticClass:"avatar-uploader ",attrs:{action:"#","http-request":e.handleHttpRequest,"show-file-list":!1}},[a("i",{staticClass:"el-icon-plus step-upicon"},[e._v("更改头像")])])],1)],1),e._v(" "),a("el-form",{attrs:{model:e.form,"label-width":"40px"}},[a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"生日"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"口味"}},[a("el-select",{attrs:{placeholder:"请选择口味"},model:{value:e.form.taste,callback:function(t){e.$set(e.form,"taste",t)},expression:"form.taste"}},[a("el-option",{attrs:{label:"酸",value:"酸"}}),e._v(" "),a("el-option",{attrs:{label:"甜",value:"甜"}}),e._v(" "),a("el-option",{attrs:{label:"苦",value:"苦"}}),e._v(" "),a("el-option",{attrs:{label:"辣",value:"辣"}}),e._v(" "),a("el-option",{attrs:{label:"咸",value:"咸"}}),e._v(" "),a("el-option",{attrs:{label:"麻辣",value:"麻辣"}}),e._v(" "),a("el-option",{attrs:{label:"酸甜",value:"酸甜"}}),e._v(" "),a("el-option",{attrs:{label:"咸苦",value:"咸苦"}}),e._v(" "),a("el-option",{attrs:{label:"酸苦",value:"酸苦"}}),e._v(" "),a("el-option",{attrs:{label:"微辣",value:"微辣"}}),e._v(" "),a("el-option",{attrs:{label:"变态辣",value:"变态辣"}}),e._v(" "),a("el-option",{attrs:{label:"超级咸",value:"超级咸"}}),e._v(" "),a("el-option",{attrs:{label:"清淡",value:"清淡"}}),e._v(" "),a("el-option",{attrs:{label:"重口味",value:"重口味"}}),e._v(" "),a("el-option",{attrs:{label:"无敌酸",value:"无敌酸"}}),e._v(" "),a("el-option",{attrs:{label:"腻人甜",value:"腻人甜"}}),e._v(" "),a("el-option",{attrs:{label:"通吃",value:"通吃"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"选择标签"}},[a("el-select",{attrs:{placeholder:"请选标签"},model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}},[a("el-option",{attrs:{label:"烘焙大王",value:"烘焙大王"}}),e._v(" "),a("el-option",{attrs:{label:"厨娘",value:"厨娘"}}),e._v(" "),a("el-option",{attrs:{label:"厨男",value:"厨男"}}),e._v(" "),a("el-option",{attrs:{label:"面点王",value:"面点王"}}),e._v(" "),a("el-option",{attrs:{label:"宝妈",value:"宝妈"}}),e._v(" "),a("el-option",{attrs:{label:"养生达人",value:"养生达人"}}),e._v(" "),a("el-option",{attrs:{label:"探店达人",value:"探店达人"}}),e._v(" "),a("el-option",{attrs:{label:"瘦身减脂",value:"瘦身减脂"}}),e._v(" "),a("el-option",{attrs:{label:"一日三餐",value:"一日三餐"}}),e._v(" "),a("el-option",{attrs:{label:"独食者",value:"独食者"}}),e._v(" "),a("el-option",{attrs:{label:"爱甜食",value:"爱甜食"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"个人简介"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入个人简介",rows:"6",maxlength:"120","show-word-limit":""},model:{value:e.personinfo,callback:function(t){e.personinfo=t},expression:"personinfo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"orange",on:{click:function(t){return e.pushuserinfo()}}},[e._v("保存")])],1)],1)],1)]),e._v(" "),a("FooterBottom")],1)},staticRenderFns:[]};var p=a("VU/8")(u,v,!1,function(e){a("IPvx")},null,null);t.default=p.exports}});
//# sourceMappingURL=11.725bb05e1c2536e25693.js.map