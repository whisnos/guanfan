webpackJsonp([8],{C94v:function(t,e){},M4To:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("M9A7"),o=n("zL8q"),s={data:function(){return{hbimg:[{img:"https://guanfan.oss-cn-hangzhou.aliyuncs.com/apk/bg1.jpg",id:0},{img:"https://guanfan.oss-cn-hangzhou.aliyuncs.com/apk/bg2.jpg",id:1},{img:"https://guanfan.oss-cn-hangzhou.aliyuncs.com/apk/bg3.jpg",id:2}],btnText:"获取验证码",countdown:60,dialogVisible:!1,ruleForm:{phone:"",verify:""},loginRules:{phone:[{requird:!0,trigger:"blur"}],verify:[{requird:!0,trigger:"blur",validator:function(t,e,n){e.length<6?n(new Error("验证码不能小于6位")):n()}}]}}},methods:{login:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return!1;t.$store.dispatch("LoginByCode",t.ruleForm).then(function(){t.getUser()}).catch(function(){})})},getUser:function(){var t=this;this.$store.dispatch("GetUserInfo").then(function(e){t.$router.push({path:t.redirect||"/resetpwd"})}).catch(function(t){})},getCode:function(){""!=this.ruleForm.phone?(this.sendsms(),this.setTime()):this.$message.error("请输入手机号")},setTime:function(){if(0==this.countdown)return this.btnText="获取验证码",void(this.countdown=60);setTimeout(this.setTime,1e3),this.btnText="("+this.countdown+"s)后重新发送",this.countdown--},sendsms:function(){var t=this;Object(i.f)(this.ruleForm.phone,3).then(function(e){e.data.success?t.setTime():Object(o.Message)({message:e.message,type:"error",duration:5e3})}).catch(function(t){console.log(t)})},guanbi:function(){this.$router.push({path:this.redirect||"/"})}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg"},[n("el-carousel",{attrs:{"indicator-position":"none",height:"100vh"}},t._l(t.hbimg,function(t){return n("el-carousel-item",{key:t.id},[n("img",{staticClass:"hbimg",attrs:{src:t.img}})])}),1),t._v(" "),n("div",{staticClass:"login"},[n("span",{staticClass:"guanbi",on:{click:function(e){return t.guanbi()}}}),t._v(" "),n("div",{staticClass:"box"},[n("h3",[t._v("找回密码-验证手机号")]),t._v(" "),n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"","label-width":"0px"}},[n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{staticClass:"dlinput",attrs:{placeholder:"输入11位手机号码",type:"tel",autocomplete:"off",clearable:""},model:{value:t.ruleForm.phone,callback:function(e){t.$set(t.ruleForm,"phone",e)},expression:"ruleForm.phone"}})],1),t._v(" "),n("el-form-item",{staticClass:"dlinput",attrs:{prop:"verify"}},[n("el-input",{staticStyle:{width:"164px"},attrs:{type:"text",placeholder:"输入6位验证码",autocomplete:"off",clearable:""},model:{value:t.ruleForm.verify,callback:function(e){t.$set(t.ruleForm,"verify",e)},expression:"ruleForm.verify"}}),t._v(" "),n("el-button",{on:{click:function(e){return t.getCode()}}},[t._v(t._s(t.btnText))])],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"0"}},[n("router-link",{staticStyle:{float:"left"},attrs:{to:"/login"}},[t._v("返回登录")])],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"0"}},[n("el-button",{staticClass:"dlbtn",on:{click:function(e){return t.login()}}},[t._v("下一步")])],1)],1)],1)])],1)},staticRenderFns:[]};var a=n("VU/8")(s,r,!1,function(t){n("C94v")},"data-v-9f02ff2e",null);e.default=a.exports}});
//# sourceMappingURL=8.b64ffbff19d0e4fede5e.js.map