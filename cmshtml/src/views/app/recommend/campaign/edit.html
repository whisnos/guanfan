<div class="layui-form" lay-filter="cms-recommend-campaign-edit-form" id="cms-recommend-campaign-edit-form" style="padding: 20px 30px 0 0;">
        <script type="text/html" template lay-done="layui.data.done(d.params);">
            <input type="hidden" id="id" name="id" value="{{ d.params.id }}">
        </script>
        <div class="layui-form-item">
            <label class="layui-form-label">活动类型</label>
            <div class="layui-btn-group">
                <script type="text/html" template>
                    <input type="radio" name="type" value="1" title="动态" checked>
                    <input type="radio" name="type" value="2" title="菜谱">
                </script>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">活动标题</label>
            <div class="layui-input-inline">
                <script type="text/html" template>
                    <input type="text" name="name" value="{{ d.params.name || '' }}" placeholder="请输入" autocomplete="off" class="layui-input" style="width:400px">
                </script>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">活动词</label>
            <div class="layui-input-inline">
                <script type="text/html" template>
                    <input type="text" name="keyname" value="{{ d.params.keyname || '' }}" placeholder="请输入" autocomplete="off" class="layui-input" style="width:400px">
                </script>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">活动封面</label>
            <div class="layui-input-inline">
                <script type="text/html" template>
                    {{# if(d.params.mainimg!==''){ }}
                        <img id="mainimgshow" src="{{ layui.setter.basehost + d.params.mainimg }}" class="cms-list-img" style="width:400px;height:auto;">
                    {{# }else{ }}
                        <img id="mainimgshow" src="" class="cms-list-img" style="width:200px;height:auto;">
                    {{#  } }}
                    <input type="hidden" id="mainimg" name="mainimg" value="{{ d.params.mainimg }}">
                </script>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">上传封面</label>
            <div class="layui-input-inline">
                <button class="layui-btn" id="uploadfile_mainimg">上传图片</button>
            </div>
        </div>

        <!-- <div class="layui-form-item">
            <label class="layui-form-label">活动内容</label>
            <div class="layui-input-inline">
                <script type="text/html" template>
                    <textarea name="content" placeholder="请输入" autocomplete="off" lay-verify="compaigncontent" class="layui-textarea" style="width:600px;height:300px">{{ d.params.content || '' }}</textarea>
                </script>
            </div>
        </div> -->

        <div class="layui-form-item">
            <label class="layui-form-label">参与按钮</label>
            <div class="layui-input-inline">
                <script type="text/html" template>
                    {{# if(d.params.joinimg!==''){ }}
                        <img id="joinimgshow" src="{{ layui.setter.basehost + d.params.joinimg }}" class="cms-list-img" style="width:200px;height:auto;">
                    {{# }else{ }}
                        <img id="joinimgshow" src="" class="cms-list-img" style="width:200px;height:auto;">
                    {{#  } }}
                    <input type="hidden" id="joinimg" name="joinimg" value="{{ d.params.joinimg }}">
                </script>
                <div style="margin-top: 5px;">
                    <button class="layui-btn" id="uploadfile_joinbutton">上传按钮</button>
                </div>
            </div>

            <label class="layui-form-label">中奖按钮</label>
            <div class="layui-input-inline">
                <script type="text/html" template>
                    {{# if(d.params.openimg!==''){ }}
                        <img id="openimgshow" src="{{ layui.setter.basehost + d.params.openimg }}" class="cms-list-img" style="width:200px;height:auto;">
                    {{# }else{ }}
                        <img id="openimgshow" src="" class="cms-list-img" style="width:200px;height:auto;">
                    {{#  } }}
                    <input type="hidden" id="openimg" name="openimg" value="{{ d.params.openimg }}">
                </script>
                <div style="margin-top: 5px;">
                    <button class="layui-btn" id="uploadfile_openprize">上传按钮</button>
                </div>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">PK</label>
            <div class="layui-btn-group">
                <script type="text/html" template>
                    <input type="radio" name="ispk" value="1" title="启用" checked>
                    <input type="radio" name="ispk" value="0" title="停用">
                </script>
            </div>
        </div>

        <div class="layui-form-item" style="width: 550px;">
            <label class="layui-form-label">PK设置</label>
            <div class="layui-input-inline" style="width: 80px;">
                <script type="text/html" template>
                    <input type="text" name="pkpositive" value="{{ d.params.pkpositive || '' }}" placeholder="PK对象" autocomplete="off" class="layui-input">
                </script>
            </div>
            <div class="layui-input-inline" style="width: 80px;">
                <script type="text/html" template>
                    <input type="text" name="pkpositivevisit" value="{{ d.params.pkpositivevisit || '' }}" placeholder="PK人数" autocomplete="off" class="layui-input">
                </script>
            </div>
            <div class="layui-input-inline" style="width: 30px;">
                <div style="text-align:center;">VS</div>
            </div>

            <div class="layui-input-inline" style="width: 80px;">
                <script type="text/html" template>
                    <input type="text" name="pknegative" value="{{ d.params.pknegative || '' }}" placeholder="PK对象" autocomplete="off" class="layui-input">
                </script>
            </div>
            <div class="layui-input-inline" style="width: 80px;">
                <script type="text/html" template>
                    <input type="text" name="pknegativevisit" value="{{ d.params.pknegativevisit || '' }}" placeholder="PK人数" autocomplete="off" class="layui-input">
                </script>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">赞助商</label>
            <div class="layui-input-inline">
                <script type="text/html" template>
                    <input type="text" name="sponsorid" value="{{ d.params.sponsorid || '' }}" placeholder="请输入" autocomplete="off" class="layui-input">
                </script>
            </div>
        </div>

        <div class="layui-form-item">
          <label class="layui-form-label"></label>
          <div class="layui-input-inline">
            <input type="button" lay-submit lay-filter="cms-recommend-campaign-edit-form-submit" value="确认" class="layui-btn">
          </div>
        </div>
    </div>
<script>
/* 自定义验证规则 */
    layui.data.done = function(d){
        layui.use(['form','jquery'],function(){
            var $ = layui.$,
            form = layui.form;

            // form.verify({
            //     compaigncontent: function(value){
            //             if(value.length > 2000){
            //                 return '活动内容小于2000字';
            //         }
            //     }
            // });

            $('[name=type]').each(function(i,item){
                if($(item).val()==d.type){
                    $(item).prop('checked',true);
                }
            });
            $('[name=ispk]').each(function(i,item){
                if($(item).val()==d.ispk){
                    $(item).prop('checked',true);
                }
            });
            
            form.render(null, 'cms-recommend-campaign-edit-form'); //渲染该模板下的动态表单
        });
    };

    layui.use('recommend/campaign/edit', layui.factory('recommend/campaign/edit'));
</script>